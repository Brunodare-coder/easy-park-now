(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[363],{6198:function(e,s,t){Promise.resolve().then(t.bind(t,8886))},9376:function(e,s,t){"use strict";var a=t(5475);t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},8886:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var a=t(7437),r=t(2265),n=t(9376);function o(){let e=(0,n.useRouter)(),s=(0,n.useSearchParams)().get("token")||"",[t,o]=(0,r.useState)(""),[u,l]=(0,r.useState)(""),[i,c]=(0,r.useState)(""),[d,m]=(0,r.useState)(""),[h,p]=(0,r.useState)(!1),f=async a=>{if(a.preventDefault(),c(""),m(""),t!==u){c("Passwords do not match");return}p(!0);try{let a=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:s,password:t})}),r=await a.json();a.ok?(m("Password reset successful. You can now login."),setTimeout(()=>{e.push("/login")},3e3)):c(r.message||"Failed to reset password")}catch(e){c("An error occurred. Please try again.")}finally{p(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,a.jsxs)("form",{onSubmit:f,className:"max-w-md w-full bg-white p-8 rounded-lg shadow",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Reset Password"}),i&&(0,a.jsx)("p",{className:"text-red-600 mb-4",children:i}),d&&(0,a.jsx)("p",{className:"text-green-600 mb-4",children:d}),(0,a.jsx)("label",{className:"block mb-2 font-semibold",children:"New Password"}),(0,a.jsx)("input",{type:"password",value:t,onChange:e=>o(e.target.value),required:!0,className:"input mb-4",placeholder:"Enter new password"}),(0,a.jsx)("label",{className:"block mb-2 font-semibold",children:"Confirm Password"}),(0,a.jsx)("input",{type:"password",value:u,onChange:e=>l(e.target.value),required:!0,className:"input mb-6",placeholder:"Confirm new password"}),(0,a.jsx)("button",{type:"submit",disabled:h,className:"btn btn-primary w-full py-3 font-semibold",children:h?"Resetting...":"Reset Password"})]})})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=6198)}),_N_E=e.O()}]);